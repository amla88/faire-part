<mat-toolbar color="primary" style="position:sticky;top:0;z-index:1000;display:flex;align-items:center;justify-content:space-between">
  <div style="display:flex;align-items:center;gap:8px">
    <button mat-icon-button [routerLink]="uuid ? '/' : '/login'" [queryParams]="uuid ? { uuid: uuid } : null" queryParamsHandling="merge" title="Accueil"><mat-icon>home</mat-icon></button>
    <span style="font-weight:600;font-size:18px">Faireâ€‘Part</span>
  </div>

  <!-- Session active info -->
  <div *ngIf="uuid && selectedPersonne" style="display:flex;align-items:center;gap:12px;flex:1;margin-left:24px">
    <div style="display:flex;align-items:center;gap:8px">
      <mat-icon style="font-size:18px;width:18px;height:18px">people</mat-icon>
      <span style="font-size:14px;color:rgba(255,255,255,0.9)">{{ personnePrincipale?.nom }}</span>
    </div>
    <div style="width:1px;height:20px;background:rgba(255,255,255,0.3)"></div>
    <button mat-button style="color:white;text-transform:none;padding:0 8px" (click)="goToPersonSwitcher()" title="Changer de personne">
      <mat-icon style="font-size:18px;width:18px;height:18px;margin-right:4px">person</mat-icon>
      <span style="font-size:14px">{{ selectedPersonne.prenom }} {{ selectedPersonne.nom }}</span>
    </button>
  </div>

  <span class="spacer"></span>

  <div style="display:flex;align-items:center;gap:8px">
    <button mat-button *ngIf="!uuid" routerLink="/login" [queryParams]="uuid ? { uuid: uuid } : null" queryParamsHandling="merge">Login</button>
    <button mat-button *ngIf="uuid" (click)="logout()">Logout</button>
    <button mat-button routerLink="/admin">Admin</button>
  </div>
</mat-toolbar>

<div class="container">
  <router-outlet></router-outlet>
</div>
<app-toast-container></app-toast-container>
